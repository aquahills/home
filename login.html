<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <style>
    .logo{
      height:115px !important;
    }

    @media(max-width:768px){
      .logo{
        height:85px !important;
      }
    }

    .login-card{
      width:100%;
      max-width:400px;
      text-align:center;
    }

    /* GOOGLE BUTTON */
    .google-btn{
      width:100%;
      padding:14px;
      border-radius:30px;
      border:none;
      background:white;
      color:#444;
      font-weight:600;
      font-size:16px;
      cursor:pointer;
      transition:.3s;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
    }

    .google-btn:hover{
      transform:scale(1.05);
    }

    /* REAL GOOGLE SVG ICON */
    .google-icon{
  width:24px;
  height:24px;
  display:block;
  flex-shrink:0;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  shape-rendering: geometricPrecision;
}


    @media(max-width:480px){
      .google-icon{
        width:20px;
        height:20px;
      }
    }

    /* MOBILE HEADER FIX */
    @media(max-width:768px){

      header{
        flex-direction:column;
        align-items:center;
        text-align:center;
        gap:15px;
      }

      nav{
        flex-direction:column;
        align-items:center;
        width:100%;
      }

      nav button{
        width:100%;
        max-width:280px;
      }
    }

    /* FOOTER MATCH */
    .footer{
      background:rgba(0,0,0,.55) !important;
      padding:55px 20px 25px !important;
    }

    .footer-container{
      display:flex !important;
      justify-content:center !important;
      gap:60px !important;
      flex-wrap:wrap !important;
      text-align:center !important;
    }

    .footer-container div{
      min-width:220px !important;
    }

    @media(max-width:480px){
      .footer-container{
        flex-direction:column !important;
        gap:30px !important;
      }
    }
.guest-btn{
  width:100%;
  padding:14px;
  border-radius:30px;
  border:none;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  transition:.3s;
}

.guest-btn:hover{
  transform:scale(1.05);
}

  </style>
</head>

<body>

<header>
  <img src="assets/logo.png" class="logo" />

  <nav>
    <button onclick="window.location.href='index.html'">Home</button>
  </nav>
</header>

<main class="center">

  <div class="card login-card">
    <h2 style="margin-bottom:20px;">Login / Register</h2>

    <button class="google-btn" onclick="startGoogleLogin()">

      <!-- Official Google SVG -->
      <svg class="google-icon" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
  <g>
    <path fill="#EA4335" d="M24 9.5c3.15 0 5.99 1.08 8.23 3.2l6.15-6.15C34.73 2.36 29.73 0 24 0 14.64 0 6.48 5.38 2.69 13.22l7.16 5.56C11.82 12.24 17.4 9.5 24 9.5z"/>
    <path fill="#34A853" d="M46.1 24.5c0-1.63-.14-2.83-.43-4.08H24v7.72h12.68c-.26 2.06-1.66 5.16-4.77 7.24l7.35 5.72C43.93 36.62 46.1 31.06 46.1 24.5z"/>
    <path fill="#4A90E2" d="M9.85 28.78A14.52 14.52 0 0 1 9.5 24c0-1.67.29-3.27.8-4.78l-7.16-5.56A23.98 23.98 0 0 0 0 24c0 3.87.93 7.52 2.69 10.78l7.16-6z"/>
    <path fill="#FBBC05" d="M24 48c6.48 0 11.91-2.13 15.88-5.82l-7.35-5.72c-1.97 1.36-4.6 2.31-8.53 2.31-6.6 0-12.18-2.74-15.15-9.28l-7.16 6C6.48 42.62 14.64 48 24 48z"/>
  </g>
</svg>


      <span>Continue with Google</span>
      
    </button>
<button class="guest-btn" onclick="startGuestLogin()" style="margin-top:15px; background:#00b4ff; color:white;">
  <i class="fa-solid fa-user"></i>
  Login as Guest
</button>

  </div>

</main>

<footer class="footer">
<div class="footer-container">

<div>
<h3>Aquahills Beverages</h3>
<p>Pure & Safe Drinking Water</p>

<div class="social-icons">
<i class="fab fa-facebook-f"></i>
<i class="fab fa-instagram"></i>
<i class="fab fa-youtube"></i>
<i class="fab fa-linkedin-in"></i>
</div>
</div>

<div>
<h4>Contact</h4>
<p><i class="fa-solid fa-phone"></i> +91 9876543210</p>
<p><i class="fa-solid fa-envelope"></i> support@aquahills.com</p>
</div>

<div>
<h4>Location</h4>
<p><i class="fa-solid fa-location-dot"></i> Ghaziabad, Uttar Pradesh</p>
</div>

</div>

<p class="footer-bottom">
Â© 2026 Aquahills Beverages | ISI & BIS Certified | All Rights Reserved
</p>
</footer>

<script src="js/firebase.js"></script>
<script>
async function startGuestLogin(){
  try{
    const result = await firebase.auth().signInAnonymously();
    const user = result.user;

    const userRef = db.collection("users").doc(user.uid);
    const doc = await userRef.get();

    if(!doc.exists){
      await userRef.set({
        name:"",
        phone:"",
        email:"",
        address:{
          house:"",
          street:"",
          city:"",
          pincode:""
        },
        role:"customer",
        guest:true,
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      });
    }

    window.location.href="address.html?guest=true";
  }catch(err){
    alert("Guest login failed.");
    console.error(err);
  }
}
</script>

</body>
</html>
